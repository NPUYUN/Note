# 整数规划（IP/MIP）
## 定义
在一组线性约束条件下，部分或全部决策变量被要求取整数（或0/1）的优化问题。若目标函数与约束均为线性，且含有整数变量，称为整数线性规划（IP）；同时包含整数与连续变量时称为混合整数线性规划（MIP）。

## 模型三要素
- 决策变量：连续变量、整数变量、0/1变量。
- 目标函数：最大化或最小化的线性函数。
- 约束条件：线性等式/不等式与符号（整型/非负）约束。

## 数学形式示例
最大化版本：
$$
\begin{aligned}
\max\; & 3x_1 + 2x_2 \\
\text{s.t.}\; & x_1 + x_2 \le 4 \\
& 3x_1 + 2x_2 \le 12 \\
& x_1,\ x_2 \in \mathbb{Z}_{\ge 0}
\end{aligned}
$$

二元0-1示例：
$$
\begin{aligned}
\max\; & 5y_1 + 4y_2 + 3y_3 \\
\text{s.t.}\; & 2y_1 + y_2 + y_3 \le 3 \\
& y_i \in \{0,1\},\ i=1,2,3
\end{aligned}
$$

## 使用Python求解整数规划模型
PuLP是一个用于求解整数规划问题的Python库，它基于线性规划求解器（如GLPK、CPLEX、Gurobi等）。PuLP提供了一种简单的方式来定义和求解整数规划模型。

#### 基础语法如下
```python
import pulp as lp

# 定义整数规划模型
model = lp.LpProblem("Integer_Programming_Example", lp.LpMaximize)

# 定义决策变量
x1 = lp.LpVariable("x1", lowBound=0, cat="Integer")
x2 = lp.LpVariable("x2", lowBound=0, cat="Integer")

# 定义目标函数
model += 3*x1 + 2*x2

# 定义约束条件
model += x1 + x2 <= 4
model += 3*x1 + 2*x2 <= 12

# 求解整数规划模型
status = model.solve()

print(lp.value(x1))
print(lp.value(x2))
print(lp.value(model.objective))
```
与线性规划相比，整数规划只需要在定义决策变量时指定类型（`cat="Integer"`），其他部分与线性规划相同。
- Integer：整数变量。
- Continuous：连续变量。
- Binary：0/1变量。

## 一个典型的线性规划问题
某机床厂生产甲、乙两种机床，每台销售后的利润分别为4000元与3000元。生产甲机床需用A、B机器加工，加工时间分别为每台2小时和1小时：生产乙机床需用A、B、C三种机器加工，加工时间为每台各一小时。若每天可用于加工的机器时数分别为机器10小时、机器8小时和C机器7小时，问该厂应生产甲、乙机床各几台，才能使总利润最大？

### 模型构建
- 决策变量：$x_1$表示生产甲机床的台数，$x_2$表示生产乙机床的台数。
- 目标函数：$z = 4000x_1 + 3000x_2$，表示最大总利润。
- 约束条件：
  - $x_1 + x_2 \le 4$，表示每天可用于加工的机器时数为10小时。
  - $2x_1 + x_2 \le 8$，表示每天可用于加工的机器时数为8小时。
  - $x_2 \le 7$，表示每天可用于加工的机器时数为7小时。
  - $x_1, x_2 \ge 0$，表示生产数量为非负整数。
  - $x_1, x_2 \in \mathbb{Z}_{\ge 0}$，表示生产数量为整数。

### 求解：见py文件